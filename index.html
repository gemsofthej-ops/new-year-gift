<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Happy New Year</title>

<style>
body {
  margin: 0;
  font-family: monospace;
  background: black;
  color: white;
  text-align: center;
}

.hidden {
  display: none;
}

.center {
  margin-top: 15vh;
}

button {
  padding: 10px 20px;
  margin: 10px;
  font-size: 16px;
  border-radius: 20px;
  border: none;
  cursor: pointer;
}

.yes {
  background: pink;
}

.no {
  background: gray;
  color: white;
}

#letter {
  white-space: pre-wrap;
  max-width: 700px;
  margin: 20px auto;
  text-align: left;
}
</style>
</head>

<body>

<div id="countdownScreen" class="center">
  <h2 id="countdown">counting down...</h2>
</div>

<div id="choiceScreen" class="center hidden">
  <div style="font-size:70px;">ğŸˆâ€â¬›</div>
  <p>will u accept my new year gift?</p>
  <button class="yes" onclick="acceptGift()">yes</button>
  <button class="no" onclick="rejectGift()">no</button>
</div>

<div id="noScreen" class="center hidden">
  <div style="font-size:70px;">ğŸ˜¿</div>
  <p>okâ€¦ still happy new year ğŸ’”</p>
</div>

<div id="yesScreen" class="center hidden">
  <div style="font-size:70px;">ğŸˆâ€â¬›ğŸ’</div>
  <pre id="letter"></pre>
</div>

<script>
const target = new Date(new Date().getFullYear() + 1, 0, 1, 0, 0, 0);

setInterval(function () {
  const now = new Date();
  const diff = target - now;

  if (diff <= 0) {
    document.getElementById("countdownScreen").classList.add("hidden");
    document.getElementById("choiceScreen").classList.remove("hidden");
    return;
  }

  const h = Math.floor(diff / 3600000);
  const m = Math.floor((diff % 3600000) / 60000);
  const s = Math.floor((diff % 60000) / 1000);

  document.getElementById("countdown").innerText =
    h + "h " + m + "m " + s + "s";
}, 1000);

function rejectGift() {
  document.getElementById("choiceScreen").classList.add("hidden");
  document.getElementById("noScreen").classList.remove("hidden");
}

function acceptGift() {
  document.getElementById("choiceScreen").classList.add("hidden");
  document.getElementById("yesScreen").classList.remove("hidden");
  typeLetter();
}

const text =
"i dont know where to begin with this but yes being with you is awesomesauce\n" +
"you make everything so much better when you are around\n" +
"u are like a budew using sunny day ğŸŒ±âœ¨\n\n" +

"i remember this one time in the canteen we were having lunch\n" +
"i got so hyped seeing you get all of my references\n" +
"specifically the riverdale and sitcom ones\n" +
"i lowkey felt embarrassed after you left\n" +
"(ofcourse not because u got bored but u had a practical right after)\n" +
"cuz i thought i spoke too much\n" +
"but yes it was then i first thought damn pearls valid\n\n" +

"u did make the first move initially as well\n" +
"cuz if u hadnt texted first my awkward ass probably\n" +
"would never have even initiated a conversation\n" +
"but i m so glad that u did\n\n" +

"i did piss you off alot this year ğŸ˜­\n" +
"but come on u had fun too right\n" +
"except the times i went overboard\n" +
"for which i would like to formally apologise ğŸ˜˜\n\n" +

"this one time during prelims\n" +
"when i had come to the library\n" +
"after which we were sitting in the canteen\n" +
"i ordered cold coffee and i told u about my sister freya\n" +
"and stuff going on with her\n" +
"and i loved the way u reciprocated it\n" +
"it was really nice of u to react that way and hear me out\n\n" +

"you never judged me for my hot takes on life\n" +
"or my philosophies\n" +
"and most importantly i ve never thought i ve overshared to you\n" +
"and for someone like me who yaps alot\n" +
"that is a very common feeling\n" +
"but never had that with u\n\n" +

"all the rants that u heard\n" +
"late night calls\n" +
"thank you for everything babe\n\n" +

"the day u told me that u liked me\n" +
"was easily one of the best days of my life\n\n" +

"delhi\n" +
"poptos\n" +
"momos\n" +
"smoothie\n" +
"micro burger\n" +
"aamras\n" +
"the list just goes on\n\n" +

"having u by my side as my partner\n" +
"romantic one ofcourse\n" +
"is all i could ve asked for\n\n" +

"i m not gonna start with caps on\n" +
"because doing that and using the ğŸ˜‚ emoji is still ğŸ‘\n\n" +

"but this year was s tier because of u\n" +
"i want the next one to be with u too\n\n" +

"Happy New Year, my princess â¤ï¸";

let i = 0;
function typeLetter() {
  if (i < text.length) {
    document.getElementById("letter").innerText += text.charAt(i);
    i++;
    setTimeout(typeLetter, 30);
  }
}
</script>

</body>
</html>
